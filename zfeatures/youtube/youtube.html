<!DOCTYPE html>
<html>
<head>
</head>

<body>

  <!-- <div id="player1" style="pointer-events:none" ></div> -->
  <!-- <iframe width="560" height="315" src="https://www.youtube-nocookie.com/embed/sOwtIkAO3ZI" 
  frameborder="0" allow="accelerometer; autoplay; 
  encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe> -->

  <div id="player1" ></div>
  <div id="testid" class="asdf">asfdasdfasdfasdf</div>


  <script>

    var listOfVideos = ["aSPicd38y_o", "5ILCDsYM57k", "Kbhxo2kOeu4", "XZK-rUghHVE"];
    var iter = 0

    var tag = document.createElement('script');
    tag.src = "https://www.youtube.com/iframe_api";
    var firstScriptTag = document.getElementsByTagName('script')[0];
    firstScriptTag.parentNode.insertBefore(tag, firstScriptTag);

    var player1;
    function onYouTubeIframeAPIReady() {
      player1 = new YT.Player('player1', {
        height: '390',
        width: '640',
        host: 'https://www.youtube-nocookie.com',
        // videoId: '0UgimeJW1Hc',
        videoId: listOfVideos[iter],
        playerVars: {
          'playsinline': 1,   // necessary

          'modestbranding': 1,
          // 'autohide': 0,
          'showinfo': 0,
          'controls': 1,
          'frameborder': 0,
          // 'loop': 1,

        },
        events: {
          'onReady': onPlayerReady,
          'onStateChange': onPlayerStateChange
        },
      });

    }

    function onPlayerReady(event) {
      ////// check if video is unavailable //////
      if (event.target.getDuration() === 0) {
        console.log('unavailable');
      }
      else {
        ////// play video right away but with mute //////
        // event.target.mute();
        // event.target.playVideo();
      }

    }

    // var done = false;
    function onPlayerStateChange(event) {
      if (event.data === YT.PlayerState.ENDED) {
        iter++;
        event.target.loadVideoById(listOfVideos[iter]);
        // event.target.videoId = "G9ToPc1SlWs";
        event.target.playVideo();
      }
      ///// stop 6s after start
      // if (event.data == YT.PlayerState.PLAYING && !done) {
      // setTimeout(stopVideo, 6000);
      //   done = true;
      // }
    }

    function stopVideo() {
      player1.stopVideo();
    }

    


  </script>
</body>

</html>